---
---

<form
  id="contact_form"
  class="folded"
  action="https://api.web3forms.com/submit"
  method="POST"
  onsubmit="document.getElementById('submit').disabled=true;"
>
  <p>Contact me</p>
  <input
    type="hidden"
    name="access_key"
    value="b51ada5e-fbde-44c6-9349-44a02eba5240"
  />

  <input type="text" placeholder="Name" name="name" required />
  <input type="email" placeholder="Email" name="email" required />
  <textarea placeholder="Message" name="message" required></textarea>
  <input type="hidden" name="redirect" value="/email-sent" />
  <button type="submit" id="submit" class="send_btn">Send Email</button>
</form>
<p id="toast" class="hidden">Sending email...</p>

<script>
  const btn = document.querySelector("#submit") as HTMLButtonElement | null;
  const toast = document.querySelector("#toast");
  const form = document.querySelector("form");

  btn.addEventListener("click", () => {
    const isValid = form.checkValidity();
    if (isValid) {
      toast.classList.remove("hidden");
      // disableBtn();
      console.log("toast");
    }
  });

  function disableBtn() {
    btn.disabled = true;
  }

  function enableBtn() {
    btn.disabled = false;
  }
</script>

<style>
  #contact_form {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: var(--peach);
    padding: 4%;
  }

  #contact_form input,
  #contact_form textarea {
    width: 90%;
    font-size: 14px;
    padding: 0.4%;
    margin: 2% auto;
    letter-spacing: 0.1em;
  }

  #contact_form h1 {
    padding: 0;
  }

  #contact_form button {
    font-family: var(--patrick);
    padding: 5px;
    text-align: center;
    font-size: 20px;
    letter-spacing: 0.3rem;
    text-transform: uppercase;
    border-radius: 4px;
    box-shadow: 1px 1px var(--black);
    color: var(--black);
    border: 1px solid var(--black);

    box-shadow: 1px 1px 0, 2px 2px 0, 3px 3px 0, 4px 4px 0, 5px 5px 0;
  }

  .folded {
    position: relative;
    display: inline-block;
    border-radius: 6px;
    border: 1px solid var(--black);
    clip-path: polygon(6vw 0px, 100% 0px, 100% 100%, 0% 100%, 0% 6vw);
    background: var(--color-front);
    transition: clip-path 500ms;
  }

  .folded:after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 6vw;
    height: 6vw;
    background: var(--color-back);
    box-shadow: 2px 2px 2px var(--transparent_black);
    border-radius: 0 0 6px 0;
    transition: transform 500ms;
  }

  .folded:hover {
    clip-path: polygon(0px 0px, 100% 0px, 100% 100%, 0% 100%, 0% 0px);
  }

  .folded:hover:after {
    transform: translate(-100%, -100%);
  }

  form {
    width: 90%;
    margin: auto;
  }

  input,
  textarea {
    max-width: 80%;
  }

  .send_btn {
    background-color: var(--mint);
    border: 1px solid var(--black);
  }
</style>
