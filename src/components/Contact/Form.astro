---
---

<form
  id="contact_form"
  class="folded border"
  action="https://api.web3forms.com/submit"
  method="POST"
  onsubmit="document.getElementById('submit').disabled=true;"
>
  <p id="contact_title">Contact me</p>
  <input
    type="hidden"
    name="access_key"
    value="b51ada5e-fbde-44c6-9349-44a02eba5240"
  />

  <input class="border" type="text" placeholder="Name" name="name" required />
  <input
    class="border"
    type="email"
    placeholder="Email"
    name="email"
    required
  />
  <textarea class="border" placeholder="Message" name="message" required
  ></textarea>
  <input
    type="hidden"
    name="redirect"
    value="https://ntlchs.github.io/email-sent"
  />
  <button type="submit" id="submit" class="btn border">Send Email</button>
</form>
<p id="toast" class="hidden">Sending email...</p>

<script>
  const btn = document.querySelector("#submit") as HTMLButtonElement | null;
  const toast = document.querySelector("#toast");
  const form = document.querySelector("form");

  btn.addEventListener("click", () => {
    const isValid = form.checkValidity();
    if (isValid) {
      toast.classList.remove("hidden");
      // disableBtn();
      console.log("toast");
    }
  });

  function disableBtn() {
    btn.disabled = true;
  }

  function enableBtn() {
    btn.disabled = false;
  }
</script>

<style>
  #contact_form {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: var(--accent_four);
    padding: 4%;
  }

  #contact_form input,
  #contact_form textarea {
    width: 90%;
    font-size: 14px;
    padding: 0.4%;
    margin: 2% auto;
    letter-spacing: 0.1em;
  }

  #contact_form h1 {
    padding: 0;
  }

  #contact_title {
    text-transform: uppercase;
    letter-spacing: 8px;
    font-weight: 600;
    font-size: larger;
  }

  #submit {
    background-color: var(--accent_two);
  }

  form {
    width: 90%;
    margin: auto;
  }

  input,
  textarea {
    max-width: 80%;
    font-family: var(--font);
    color: var(--black);
  }
</style>
